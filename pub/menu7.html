<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/JuDocPlottest/libs/katex/katex.min.css"> <script src="/JuDocPlottest/libs/plotlyjs/plotly-latest.min.js"></script> <link rel=stylesheet  href="/JuDocPlottest/css/judoc.css"> <link rel=stylesheet  href="/JuDocPlottest/css/basic.css"> <link rel=icon  href="/JuDocPlottest/assets/infra/favicon.png"> <title>Working with PlotyJS</title> <header> <div class=blog-name ><a href="">Basic Template</a></div> <nav> <ul> <li><a href="/JuDocPlottest/">Discourse thread</a> <li><a href="/JuDocPlottest/pub/menu2.html">pure JuDoc</a> <li><a href="/JuDocPlottest/pub/menu3.html">Literate</a> <li><a href="/JuDocPlottest/pub/menu4.html">Weave</a> <li><a href="/JuDocPlottest/pub/menu5.html">Weave2</a> <li><a href="/JuDocPlottest/pub/menu6.html">Weave3</a> <li><a href="/JuDocPlottest/pub/menu7.html">PlotlyJS</a> <li><a href="/JuDocPlottest/pub/menu8.html">Issue325</a> </ul> <img src="/JuDocPlottest/assets/infra/hamburger.svg" id=menu-icon > </nav> </header> <div class=jd-content > <h2 id=judoc_plotlyjs ><a href="/JuDocPlottest/pub/menu7.html#judoc_plotlyjs">Judoc × PlotlyJS</a></h2> <pre><code class=language-julia >using PlotlyJS, DelimitedFiles, Statistics, ORCA
fp = joinpath("assets", "temperature", "temps.tsv")
d, h = readdlm(abspath(fp), '\t', header = true)
sc = scatter(;x=d[:,1], y=d[:,2], mode="markers")
p = plot(sc)
savefig(p, joinpath(@__DIR__, "plotly2.html"), format="html")
savefig(p, joinpath(@__DIR__, "plotly1.png"), format="png")
savefig(p, joinpath(@__DIR__, "output", "t2.out"), format="html")
println("The average is:", mean(d[:,2]))</code></pre> <p>png plot</p> <pre><code class=language-julia >\figalt{new plot3}{./test/plotly1.png}</code></pre>
<img src="/JuDocPlottest/assets/pages/menu7/test/plotly1.png" alt="new plot3">
<p>html2:</p>
<a href="/JuDocPlottest/assets/pages/menu7/test/plotly1.html">plot2</a>
<pre><code class=plaintext >There was an error running the code:
UndefVarError(:scatter)</code></pre>
<p>this does not work &#40;<a href="https://github.com/tlienart/JuDoc.jl/issues/322#issuecomment-568879579">issuecomment</a>&#41;:</p>
<pre><code class=language-html >~~~

~~~</code></pre>



<h2 id=test_with_div ><a href="/JuDocPlottest/pub/menu7.html#test_with_div">Test with div</a></h2>
<p>See <a href="https://github.com/tlienart/JuDoc.jl/issues/325">issue325</a> for some html code block issues.</p>
<p>This should work from <a href="https://github.com/tlienart/JuDoc.jl/issues/322#issuecomment-568882518">here</a> and the example generation from PlotlyJS.jl&#39;s docs:</p>
<pre><code class=language-julia >using PlotlyJS
trace1 = scatter(;x=1:4, y=[10, 15, 13, 17], mode="markers")
trace2 = scatter(;x=2:5, y=[16, 5, 11, 9], mode="lines")
trace3 = scatter(;x=1:4, y=[12, 9, 15, 12], mode="lines+markers")
p = plot([trace1, trace2])
#p = plot([trace1, trace2, trace3])
#relayout!(p, margin=attr(t=60, b=60, l=50, r=50))
println("""~~~
  <div id=test2 style=width:600px;height:250px;></div>""")
println(PlotlyJS.html_body(p.plot))
println("~~~")</code></pre>
There was an error running the code: UndefVarError&#40;:scatter&#41;
<h2 id=raw_source ><a href="/JuDocPlottest/pub/menu7.html#raw_source">Raw source</a></h2>

<div id=ee9d7c9d-6faf-488b-aaf9-3ee496ce5954  class=plotly-graph-div ></div>

<script>
    window.PLOTLYENV=window.PLOTLYENV || {};
    window.PLOTLYENV.BASE_URL="https://plot.ly";
    Plotly.newPlot('ee9d7c9d-6faf-488b-aaf9-3ee496ce5954', [{"mode":"markers","y":[10,15,13,17],"type":"scatter","x":[1,2,3,4]},{"mode":"lines","y":[16,5,11,9],"type":"scatter","x":[2,3,4,5]},{"mode":"lines+markers","y":[12,9,15,12],"type":"scatter","x":[1,2,3,4]}],
               {"margin":{"l":50,"b":60,"r":50,"t":60}}, {showLink: false});

 </script>
 
<h2 id=judoc_web ><a href="/JuDocPlottest/pub/menu7.html#judoc_web">JuDoc web</a></h2>



<div id=jdpodu  style="width:600px;height:350px;"></div>
<script>
    var fig = JSON.parse('{"layout":{"margin":{"l":50,"b":50,"r":50,"t":60},"title":"Basic Contour Plot"},"data":[{"type":"contour","z":[[10.0,5.625,2.5,0.625,0.0],[10.625,6.25,3.125,1.25,0.625],[12.5,8.125,5.0,3.125,2.5],[15.625,11.25,8.125,6.25,5.625],[20.0,15.625,12.5,10.625,10.0]]}]}');
    CONTAINER = document.getElementById('jdpodu');
    Plotly.plot(CONTAINER, fig.data, fig.layout);
</script>

<h2 id=another_try ><a href="/JuDocPlottest/pub/menu7.html#another_try">Another try</a></h2>
<pre><code class=language-julia >using PlotlyJS

x = y = [-2*pi + 4*pi*i/100 for i in 1:100]
z = [sin(x[i]) * cos(y[j]) * sin(x[i]*x[i]+y[j]*y[j])/log(x[i]*x[i]+y[j]*y[j]+1)
     for i in 1:100 for j in 1:100]
z_ = [z[i:i+99] for i in 1:100:10000]

data = PlotlyJS.contour(;z=z_, x=x, y=y)

plt = PlotlyJS.plot(data)
att = attr(;t=60, b=60, l=50, r=50)
#relayout!(plt, margin=attr(t=60, b=60, l=50, r=50))
html_block = PlotlyJS.html_body(plt.plot);
println("\n\n\n~~~")
println("$html_block")
println("~~~\n\n\n")</code></pre>
There was an error running the code: ErrorException&#40;&quot;function attr does not accept keyword arguments&quot;&#41;
<div class=page-foot >
  <div class=copyright >
    &copy; Tamás Cserteg. Last modified: December 28, 2019. Website built with <a href="https://github.com/tlienart/JuDoc.jl">JuDoc.jl</a>.
  </div>
</div>

</div>

    
        <script src="/JuDocPlottest/libs/katex/katex.min.js"></script>
<script src="/JuDocPlottest/libs/katex/auto-render.min.js"></script>
<script>renderMathInElement(document.body)</script>